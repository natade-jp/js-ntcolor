class NTColor{constructor(){this._r=0,this._g=0,this._b=0,this._a=1;}limit(){const t=new NTColor;return t._r=NTColor._limit(this._r),t._g=NTColor._limit(this._g),t._b=NTColor._limit(this._b),t._a=NTColor._limit(this._a),t}bake(){const t=new NTColor;return t._r=this._r*this._a,t._g=this._g*this._a,t._b=this._b*this._a,t._a=1,t.limit()}addColorMixture(t){if(!(t instanceof NTColor))throw "IllegalArgumentException";return NTColor.newColorNormalizedRGB(this._r+t._r*t._a,this._g+t._g*t._a,this._b+t._b*t._a,this._a)}subColorMixture(t){if(!(t instanceof NTColor))throw "IllegalArgumentException";const r=Math.min(this._r,t._r),o=Math.min(this._g,t._g),i=Math.min(this._b,t._b);return NTColor.newColorNormalizedRGB(NTColor._mix(this._r,r,t._a),NTColor._mix(this._g,o,t._a),NTColor._mix(this._b,i,t._a),this._a)}mul(t){if(t instanceof NTColor)return NTColor.newColorNormalizedRGB(this._r*t._r,this._g*t._g,this._b*t._b,this._a*t._a);if("number"==typeof t)return NTColor.newColorNormalizedRGB(this._r*t,this._g*t,this._b*t,this._a);throw "IllegalArgumentException"}clone(){const t=new NTColor;return t._r=this._r,t._g=this._g,t._b=this._b,t._a=this._a,t}equals(t){return NTColor._equals(this._r,t._r)&&NTColor._equals(this._g,t._g)&&NTColor._equals(this._b,t._b)&&NTColor._equals(this._a,t._a)}toString(){return "NTColor["+this.toCSSHex()+", "+this.toCSS255()+", "+this.toCSSPercent()+"]"}static _mix(t,r,o){return t+(r-t)*o}static _limit(t){return Math.max(Math.min(t,1),0)}static _equals(t,r){const o=Number.EPSILON;return Math.abs(t-r)<o}static _flact(t){return t-Math.floor(t)}static _hex(t){const r=Math.round(255*t).toString(16);return 1===r.length?"0"+r:r}static _ftos(t){const r=Math.trunc(t);return r.toString()+"."+Math.round(1e3*(t-r))}_setRGB(t,r,o,i){return this._r=t,this._g=r,this._b=o,void 0!==i&&(this._a=i),this}_setHSV(t,r,o,i){let e,h;return this._r=o,this._g=o,this._b=o,i&&(this._a=i),r>0&&(t*=6,e=~~Math.floor(t),h=t-e,0===e?(this._g*=1-r*(1-h),this._b*=1-r):1===e?(this._r*=1-r*h,this._b*=1-r):2===e?(this._r*=1-r,this._b*=1-r*(1-h)):3===e?(this._r*=1-r,this._g*=1-r*h):4===e?(this._r*=1-r*(1-h),this._g*=1-r):5===e&&(this._g*=1-r,this._b*=1-r*h)),this}_setHSL(t,r,o,i){if(i&&(this._a=i),0===r)return this._r=0,this._g=0,this._b=0,this;let e;e=o<.5?o*(1+r):o*(1-r)+r;const h=2*o-e,s=e-h;t*=6;const l=~~Math.floor(t),_=t-l;return 0===l?(this._r=e,this._g=e-s*(1-_),this._b=h):1===l?(this._r=h+s*(1-_),this._g=e,this._b=h):2===l?(this._r=h,this._g=e,this._b=e-s*(1-_)):3===l?(this._r=h,this._g=h+s*(1-_),this._b=e):4===l?(this._r=e-s*(1-_),this._g=h,this._b=e):5===l&&(this._r=e,this._g=h,this._b=h+s*(1-_)),this}_getRGB(){return {r:this._r,g:this._g,b:this._b,a:this._a}}_getHSV(){const t=Math.max(this._r,this._g,this._b),r=Math.min(this._r,this._g,this._b),o=t-r;let i=0,e=t-r;const h=t;return 0!==t&&(e/=t),0===o||(t===this._r?(i=(this._g-this._b)/o,i<0&&(i+=6)):i=t===this._g?2+(this._b-this._r)/o:4+(this._r-this._g)/o,i/=6),{h:i,s:e,v:h,a:this._a}}_getHSL(){const t=Math.max(this._r,this._g,this._b),r=Math.min(this._r,this._g,this._b),o=.5*(t+r),i=t-r;if(0===i)return {h:0,l:o,s:0,a:this._a};let e,h;return e=o<.5?i/(t+r):i/(2-t-r),t===this._r?(h=(this._g-this._b)/i,h<0&&(h+=6)):h=t===this._g?2+(this._b-this._r)/i:4+(this._r-this._g)/i,h/=6,{h:h,s:e,l:o,a:this._a}}toNormalizedRGB(){return this._getRGB()}toRGB(){return {r:Math.round(255*this._r),g:Math.round(255*this._g),b:Math.round(255*this._b),a:Math.round(255*this._a)}}toRRGGBB(){return Math.round(255*NTColor._limit(this._r))<<16|Math.round(255*NTColor._limit(this._g))<<8|Math.round(255*NTColor._limit(this._b))}toAARRGGBB(){return 16777216*Math.round(255*NTColor._limit(this._a))+(Math.round(255*NTColor._limit(this._r))<<16)+(Math.round(255*NTColor._limit(this._g))<<8)+Math.round(255*NTColor._limit(this._b))}toNormalizedHSV(){return this._getHSV()}toHSV(){const t=this.toNormalizedHSV();return t.h=Math.round(360*t.h),t.s=Math.round(255*t.s),t.v=Math.round(255*t.v),t.a=Math.round(255*t.a),t}toNormalizedHSL(){return this._getHSL()}toHSL(){const t=this.toNormalizedHSL();return t.h=Math.round(360*t.h),t.s=Math.round(255*t.s),t.l=Math.round(255*t.l),t.a=Math.round(255*t.a),t}get r(){return this._r}get g(){return this._g}get b(){return this._b}get a(){return this._a}get ir(){return Math.round(255*this._r)}get ig(){return Math.round(255*this._g)}get ib(){return Math.round(255*this._b)}get ia(){return Math.round(255*this._a)}get pr(){return 100*this._r}get pg(){return 100*this._g}get pb(){return 100*this._b}get pa(){return 100*this._a}brighter(){return this.mul(1/.7).limit()}darker(){return this.mul(.7).limit()}toCSSHex(){const t=this.limit();return NTColor._equals(this.a,1)?"#"+NTColor._hex(t.r)+NTColor._hex(t.g)+NTColor._hex(t.b):"#"+NTColor._hex(t.a)+NTColor._hex(t.r)+NTColor._hex(t.g)+NTColor._hex(t.b)}toCSS255(){const t=this.limit();return NTColor._equals(t.a,1)?"rgb("+t.ir+","+t.ig+","+t.ib+")":"rgba("+t.ir+","+t.ig+","+t.ib+","+NTColor._ftos(t.a)+")"}toCSSPercent(){const t=this.limit();return NTColor._equals(t.a,1)?"rgb("+Math.round(t.pr)+"%,"+Math.round(t.pg)+"%,"+Math.round(t.pb)+"%)":"rgba("+Math.round(t.pr)+"%,"+Math.round(t.pg)+"%,"+Math.round(t.pb)+"%,"+Math.round(t.pa)+"%)"}setAlpha(t){const r=this.clone();return r._a=t,r}static newColorNormalizedRGB(t,r,o,i){let e=0,h=0,s=0,l=1;if(1===arguments.length){if("object"!=typeof t)throw "newColorNormalizedRGB";Array.isArray(t)?(t.length>=3&&(e=t[0],h=t[1],s=t[2]),t.length>=4&&(l=t[3])):(void 0!==t.r&&(e=t.r),void 0!==t.g&&(h=t.g),void 0!==t.b&&(s=t.b),void 0!==t.a&&(l=t.a));}else arguments.length>=3&&(e=arguments[0],h=r,s=o),arguments.length>=4&&(l=i);const _=new NTColor;return _._setRGB(e,h,s,l),_}static newColorRGB(t,r,o,i){let e=0,h=0,s=0,l=255;if(arguments.length<=2)if("number"==typeof t)e=t>>16&255,h=t>>8&255,s=255&t,(t>16777215||r)&&(l=t>>24&255);else {if("object"!=typeof t)throw "newColorNormalizedRGB";Array.isArray(t)?(t.length>=3&&(e=t[0],h=t[1],s=t[2]),t.length>=4&&(l=t[3])):(void 0!==t.r&&(e=t.r),void 0!==t.g&&(h=t.g),void 0!==t.b&&(s=t.b),void 0!==t.a&&(l=t.a));}else arguments.length>=3&&(e=arguments[0],h=arguments[1],s=arguments[2],arguments.length>=4&&(l=arguments[3]));const _=new NTColor;return _._setRGB(e/255,h/255,s/255,l/255),_}static newColorNormalizedHSV(t,r,o,i){let e=0,h=0,s=0,l=1;if(1===arguments.length){if("object"!=typeof t)throw "newColorNormalizedHSV";Array.isArray(t)?(t.length>=3&&(e=t[0],h=t[1],s=t[2]),t.length>=4&&(l=t[3])):(void 0!==t.h&&(e=t.h),void 0!==t.s&&(h=t.s),void 0!==t.v&&(s=t.v),void 0!==t.a&&(l=t.a));}else arguments.length>=3&&(e=arguments[0],h=r,s=o),arguments.length>=4&&(l=i);h=NTColor._limit(h),s=NTColor._limit(s);const _=new NTColor;return _._setHSV(NTColor._flact(e),h,s,l),_}static newColorHSV(t,r,o,i){let e=0,h=0,s=0,l=255;if(arguments.length<=2){if("object"!=typeof t)throw "newColorNormalizedRGB";Array.isArray(t)?(t.length>=3&&(e=t[0],h=t[1],s=t[2]),t.length>=4&&(l=t[3])):(void 0!==t.h&&(e=t.h),void 0!==t.s&&(h=t.s),void 0!==t.v&&(s=t.v),void 0!==t.a&&(l=t.a));}else arguments.length>=3&&(e=arguments[0],h=r,s=o,arguments.length>=4&&(l=i));return NTColor.newColorNormalizedHSV(e/360,h/255,s/255,l/255)}static newColorNormalizedHSL(t,r,o,i){let e=0,h=0,s=0,l=1;if(1===arguments.length){if("object"!=typeof t)throw "newColorNormalizedHSL";Array.isArray(t)?(t.length>=3&&(e=t[0],h=t[1],s=t[2]),t.length>=4&&(l=t[3])):(void 0!==t.h&&(e=t.h),void 0!==t.s&&(h=t.s),void 0!==t.l&&(s=t.l),void 0!==t.a&&(l=t.a));}else arguments.length>=3&&(e=arguments[0],h=r,s=o),arguments.length>=4&&(l=i);h=NTColor._limit(h),s=NTColor._limit(s);const _=new NTColor;return _._setHSL(NTColor._flact(e),h,s,l),_}static newColorHSL(t,r,o,i){let e=0,h=0,s=0,l=255;if(arguments.length<=2){if("object"!=typeof t)throw "newColorNormalizedRGB";Array.isArray(t)?(t.length>=3&&(e=t[0],h=t[1],s=t[2]),t.length>=4&&(l=t[3])):(void 0!==t.h&&(e=t.h),void 0!==t.s&&(h=t.s),void 0!==t.l&&(s=t.l),void 0!==t.a&&(l=t.a));}else arguments.length>=3&&(e=arguments[0],h=r,s=o,arguments.length>=4&&(l=i));return NTColor.newColorNormalizedHSL(e/360,h/255,s/255,l/255)}static get WHITE(){return NTColor.newColorRGB(16777215)}static get LIGHT_GRAY(){return NTColor.newColorRGB(13882323)}static get GRAY(){return NTColor.newColorRGB(8421504)}static get DARK_GRAY(){return NTColor.newColorRGB(11119017)}static get BLACK(){return NTColor.newColorRGB(0)}static get RED(){return NTColor.newColorRGB(16711680)}static get PINK(){return NTColor.newColorRGB(16761035)}static get ORANGE(){return NTColor.newColorRGB(16753920)}static get YELLOW(){return NTColor.newColorRGB(16776960)}static get GREEN(){return NTColor.newColorRGB(32768)}static get MAGENTA(){return NTColor.newColorRGB(16711935)}static get CYAN(){return NTColor.newColorRGB(65535)}static get BLUE(){return NTColor.newColorRGB(255)}}

export { NTColor as default };
